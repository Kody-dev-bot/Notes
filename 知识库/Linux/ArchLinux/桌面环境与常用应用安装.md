## 准备非 root 用户
1. 通过以下命令添加用户，比如新增加的用户叫 `myusername`：
```bash
useradd -m -G wheel -s /bin/bash myusername
```
>  命令参数说明：
> - `-m` 创建用户的同时创建用户家目录
> - `-G` 选项后指定附加组
>     - `wheel` —— `wheel` 附加组可 `sudo` 进行提权
> - `-s` 选项后指定 shell 程序
> - `myusername` —— 用户名（**请自定义**，但不要包含空格和特殊字符）

2. 通过以下命令根据提示设置新用户 `myusername` 的密码：
```bash
passwd myusername
```
3. 使用 `vim` 编辑器通过 `visudo` 命令编辑 `sudoers` 文件：
```bash
EDITOR=vim visudo
```
4. 找到如下这样的一行，把前面的注释符号 `#` 去掉：
```bash
#%wheel ALL=(ALL:ALL) ALL
```
![[Pasted image 20250712132522.png]]
> 这里稍微解释一下：
> - `%wheel` —— 用户名或用户组，此处则代表是 `wheel` 组，`%` 是用户组的前缀
> - `ALL=` —— 主机名，此处则代表在所有主机上都生效（如果把同样的 `sudoers` 文件下发到了多个主机上）
> - `(ALL:ALL)` —— (任意用户:任意用户组)，此处则代表可以成为任意目标用户/用户组
> - 最后的 `ALL` —— 代表可以执行任意命令
> - 
5. 保存并退出 `vim` 编辑器