## 禁用 reflector 服务
> 2020 年，archlinux 安装镜像中加入了 `reflector` 服务，它会自己更新 `mirrorlist`（软件包管理器 `pacman` 的软件源）。在特定情况下，它会误删某些有用的源信息。这里进入安装环境后的第一件事就是将其禁用。也许它是一个好用的工具，但是很明显，因为地理上造成的特殊网络环境，这项服务并不适合启用。

```bash
systemctl stop reflector.service
```
## 更新系统时钟
使用 `timedatectl` 确保系统时间是准确的。这一步**不是**可选的，正确的系统时间对于部分程序来说非常重要：
```bash
timedatectl set-ntp true # 将系统时间与网络时间进行同步
timedatectl status # 检查服务状态
```
![[Pasted image 20250712115848.png]]
## 更换国内软件仓库镜像源加快下载速度
使用 `vim` 编辑器修改 `/etc/pacman.d/mirrorlist` 文件。将 `pacman` 软件仓库源更换为国内软件仓库镜像源：
```bash
vim /etc/pacman.d/mirrorlist
```
放在最上面的是会使用的软件仓库镜像源，推荐的镜像源如下：
```bash
Server = https://mirrors.tuna.tsinghua.edu.cn/archlinux/$repo/os/$arch # 清华大学开源软件镜像站 
```
## 分区

| 挂载点    | 大小            |
| ------ | ------------- |
| `/efi` | 500MB         |
| `Swap` | 电脑实际运行内存的 60% |
| `/`    | 剩下所有的         |
## 格式化
### 格式化 EFI 分区
```bash
mkfs.fat -F32 /dev/sdxn
```
### 格式化 Swap 分区
```bash
mkswap /dev/sdxn
```
### 格式化分区
```bash
mkfs.xfs -f /dev/sdxn
```
##  挂载
```
mount /dev/sdxn /mnt
mkdir /mnt/efi
mount /dev/sdxn /mnt/efi
```
## 安装系统
通过如下命令使用 `pacstrap` 脚本安装基础包：
```bash

```